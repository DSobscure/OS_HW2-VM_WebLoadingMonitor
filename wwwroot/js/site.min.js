// Write your Javascript code.
function drawChart(chartData) 
{
    // Create the data table.
    var data = new google.visualization.DataTable();
    data.addColumn('number', 'X');
    data.addColumn('number', 'master');
    data.addColumn('number', 'slave1');
    data.addColumn('number', 'slave2');
    
    data.addRows(chartData);

    var options = 
    {
        hAxis: {title: 'Time', ticks: [-10,-9,-8,-7,-6,-5,-4,-3,-2,-1]},
        vAxis: {title: 'CPU loading(%)', ticks: [0,10,20,30,40,50,60,70,80,90,100]},
        width: 800,
        height: 600
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
    chart.draw(data, options);
}
function Reload()
{
    $.get("home/GetChart", {}, function(data)
    {
        drawChart(data);
    });
}
setInterval(Reload, 1000);